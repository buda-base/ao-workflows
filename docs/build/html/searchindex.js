Search.setIndex({"docnames": ["Development", "Install", "Making", "index"], "filenames": ["Development.rst", "Install.rst", "Making.rst", "index.rst"], "titles": ["BDRC Airflow Development", "Airflow docker", "Making this doc", "Welcome to BDRC Airflow\u2019s documentation!"], "terms": {"document": [0, 1, 2], "detail": 0, "differ": [0, 1], "element": [0, 1], "docker": 3, "how": 0, "relat": 0, "princip": 0, "compon": 0, "ar": [0, 1, 2], "dag": 1, "code": [0, 1, 2], "run": [0, 2], "oper": 0, "facil": 0, "marshal": 0, "block": 0, "test": [1, 3], "util": [0, 1], "compos": [0, 1], "dockerfil": [0, 1], "yml": [0, 1], "ha": [0, 1, 2], "dual": 0, "role": 0, "process": [0, 1], "It": [0, 1], "onli": [0, 1], "standard": 0, "also": [0, 1], "insid": 0, "free": 0, "you": [1, 2], "from": [0, 1, 2], "have": [0, 1], "worri": 0, "about": 0, "chang": [1, 2], "directori": [0, 1, 2], "access": [0, 1], "materi": 0, "keep": [0, 2], "out": 0, "repo": [0, 1, 3], "sh": [1, 2], "entri": 0, "point": [0, 1, 2], "later": 0, "set": [0, 1, 2], "up": [0, 1, 2], "compose_build_dir": 0, "rebuild": [0, 1], "wipe": 0, "otherwis": 0, "add": 0, "copi": [0, 1, 2], "archiv": [0, 1], "op": [0, 1], "script": [0, 1], "syncanywher": [0, 1], "deploy": [0, 1, 2], "synconework": [0, 1], "merg": [0, 2], "two": [0, 1], "requir": [0, 1, 2], "file": [0, 1, 2], "invok": [0, 1], "pip": 0, "instal": [0, 1], "r": [0, 1], "txt": [0, 1], "all": [0, 1], "python": [0, 1], "librari": [0, 1], "both": 0, "sync": [0, 1], "bring": [0, 2], "down": [0, 1], "audit": [0, 1], "tool": [0, 1], "github": [0, 1, 3], "configur": [1, 3], "export": [0, 1], "environ": [1, 3], "variabl": [0, 1], "step": [0, 1], "These": [0, 1, 2], "referenc": 0, "realli": 0, "import": [0, 1], "care": 0, "config": [0, 1], "we": 0, "could": 0, "possibli": 0, "bind": [0, 1], "mount": [0, 1], "servic": 1, "sinc": 0, "under": [0, 1], "host": [0, 1], "": [0, 1, 2], "uid": 0, "see": [0, 1, 2], "schedul": [0, 1], "user": [0, 1], "claus": 0, "whole": 0, "tree": [0, 1], "fragil": 0, "so": [0, 1], "decid": 0, "should": 0, "manual": [0, 1], "select": 0, "As": 0, "rang": 0, "expand": 0, "mai": [0, 1], "need": [0, 1], "built": [0, 1], "more": [0, 1, 2], "e": [0, 1], "g": [0, 1], "googl": 0, "book": 0, "For": [0, 1], "now": 0, "just": 0, "audittool": [0, 1], "dir": [0, 1], "give": 0, "config_dir": [0, 1], "argument": [0, 1], "after": [0, 1], "complet": [0, 1], "can": [1, 2], "delet": [0, 1], "preserv": 0, "next": 0, "In": [0, 1, 2], "dag_requirements_default": 0, "stagingglacierprocess": [0, 1], "compose_airflow_imag": 0, "compose_bdrc_dock": 0, "compose_bdrc_dockerfil": 0, "bin": 0, "audit_hom": 0, "build_config_root": 0, "read": 0, "referenec": 0, "ani": [0, 1, 2], "name": [0, 1], "context": [0, 1], "compose_bdrc_airflow_dockerfil": 0, "arg": 0, "sync_scripts_hom": 0, "py_req": 0, "compose_py_req": 0, "config_root": 0, "note": [0, 1], "especi": 0, "abov": [0, 1, 2], "here": 0, "some": 0, "exampl": 0, "The": [0, 1, 2], "other": [0, 1, 3], "purpos": 0, "guid": 0, "time": 0, "execut": [0, 1], "deploi": 2, "creat": [0, 1, 2], "dest": [0, 1], "yaml": [0, 1], "normal": 0, "folder": [0, 1], "log": [0, 1], "plugin": 0, "none": 0, "work": [0, 1, 2], "most": [0, 1], "usual": 0, "download": [0, 1], "popul": [0, 1], "secret": 0, "concept": [0, 3], "env": [0, 1], "default": [0, 1, 2], "extern": [0, 1], "sourc": [0, 1, 2], "avail": [0, 1], "command": [0, 1], "resolv": 0, "fragment": [0, 1], "arch_root": [0, 1], "mnt": [0, 1], "sync_access_uid": 0, "1001": 0, "refer": [0, 1], "ao": [0, 1, 3], "stage": [0, 1], "incom": [0, 1], "bag": [0, 1], "home": [0, 1], "resolut": 0, "If": [0, 1, 2], "common": 0, "pattern": [], "control": 0, "support": 0, "essenti": 0, "four": 0, "function": [0, 1], "which": [0, 1, 2], "compris": 0, "an": 0, "sqs_scheduled_dag": [0, 1], "appear": 0, "ui": [0, 1], "http": 0, "sattva": 0, "8089": [0, 1], "task": 0, "sequenti": 0, "relationship": 0, "defin": 0, "quit": 0, "directli": 0, "advanc": 0, "known": 0, "taskflow": 0, "api": 0, "msg": 0, "get_restored_object_messag": 0, "download_from_messag": [0, 1], "to_sync": 0, "debag_download": 0, "sync_debag": 0, "shown": [0, 2], "action": [0, 2], "mostli": 0, "straightforward": 0, "specif": [0, 1], "worth": 0, "messag": 0, "graph": 0, "label": 0, "given": 0, "paramet": [0, 1], "decor": 0, "failur": 0, "one": [0, 1], "expect": 0, "fail": 0, "object": 0, "retriev": 0, "debag": 0, "itself": [0, 1], "separ": 0, "techniqu": 1, "o": 1, "reilli": 1, "pipelin": 1, "apach": [0, 1], "thi": [1, 3], "modifi": 1, "contain": [1, 3], "must": 1, "depend": 1, "except": 1, "physic": 1, "machin": 1, "real": 1, "world": 1, "stanza": 1, "i": [1, 2, 3], "left": [1, 2], "hand": 1, "side": 1, "colon": 1, "termin": 1, "node": 1, "right": 1, "ex": 1, "opt": 1, "express": 1, "pleas": 1, "below": 1, "quick": 1, "introduct": 1, "relev": 1, "A": 1, "deeper": 1, "dive": 1, "count": 1, "bdrc": 1, "develop": [1, 2, 3], "get": [0, 1, 3], "typic": 1, "workstat": 1, "few": 1, "cd": [1, 2], "d": [0, 1], "end": 1, "minut": 1, "open": [1, 2], "browser": [1, 2], "localhost": 1, "admin": [0, 1], "do": [0, 1], "activ": 1, "web": [0, 1], "There": [0, 1, 2], "phase": 1, "orchestr": 1, "custom": 1, "wrap": 1, "when": [1, 2], "anyth": 1, "includ": [0, 1], "its": 1, "properti": 1, "case": [0, 1], "where": [1, 2], "git": [1, 2], "pull": [1, 2], "buda": 1, "workflow": [1, 3], "workflow_dev_dir": 1, "ao_dev_dir": 1, "start": [0, 1, 2], "desktop": 1, "daemon": 1, "linux": 1, "your": [0, 1, 2], "choic": 1, "option": 1, "h": 1, "usag": 1, "help": [1, 2], "m": 1, "build_dir": 1, "any_servic": 1, "target": [1, 3], "c": 1, "least": 1, "tmp": 1, "caution": 1, "what": [1, 3], "db_app": 1, "NOT": 1, "entir": 1, "result": [1, 2], "cach": 1, "specifi": [0, 1], "intern": 1, "shell": 1, "glacier_staging_dag": 1, "nativ": [1, 2], "would": [0, 1], "provis": 1, "copylinkstobin": 1, "valu": [0, 1], "hard": 1, "current": [0, 1], "branch": [1, 2], "content": 1, "necessarili": [0, 1], "becaus": [0, 1], "thei": [0, 1], "cannot": 1, "familiar": 1, "much": 1, "safe": 1, "said": 1, "first": [0, 1], "write": [0, 1], "updat": [0, 1, 2], "becom": 1, "statement": 1, "like": 1, "init": 1, "initi": 1, "standalon": 1, "empti": 1, "output": [1, 2], "manag": 1, "therefor": 1, "platform": 1, "databas": [0, 1], "password": 1, "aw": 1, "credenti": 1, "exclus": 1, "applic": 1, "bash": 1, "addit": 1, "structur": 1, "ident": 1, "don": 1, "t": [0, 1], "gener": [0, 1, 2], "them": [0, 1], "section": 1, "summari": 1, "rebuilt": 1, "assembl": 1, "prerequisit": 1, "local": 1, "onc": 1, "done": 1, "new": [0, 1], "version": [0, 1], "environment": 1, "simpli": [0, 1, 2], "against": 1, "either": 1, "remov": [1, 2], "break": 1, "want": 1, "make": [0, 1, 3], "automat": 1, "re": [0, 1], "scan": 1, "restart": 1, "wa": 1, "found": 1, "implement": [0, 1], "signific": 1, "interfac": 1, "between": [0, 1], "our": 1, "server": [0, 1], "land": 1, "system": [0, 1, 2], "sink": 1, "1": 1, "overflow": 1, "space": 1, "glacier_staging_to_sync": 1, "py": 1, "storag": 1, "effici": 1, "mac": 1, "good": [0, 1], "reason": 1, "match": 1, "test_access_permiss": 1, "archive0": 1, "00": 1, "testarchivepermiss": 1, "18": 1, "dip_log": 1, "f": 1, "link": [1, 2], "segment": 1, "handl": 1, "modul": [1, 3], "had": 1, "detect": 1, "exist": 1, "drs_cnf": 1, "map": 1, "were": [1, 2], "secret_nam": 1, "actual": [1, 3], "never": 1, "check": [0, 1], "repositori": 1, "area": 1, "store": 1, "across": 1, "lifecycl": 1, "doe": [0, 1], "learn": 2, "rest": 2, "page": [2, 3], "mani": 2, "visit": 2, "copilot": 2, "fit": 2, "yet": 2, "site": 2, "us": 2, "guidepost": 2, "go": 2, "find": 2, "nav": 2, "bar": 2, "gh": 2, "push": 2, "Then": 2, "fetch": 2, "befor": [2, 3], "begin": 2, "main": 2, "futur": 2, "enabl": 2, "date": 2, "project": [2, 3], "checkout": 2, "origin": 2, "dedic": 2, "html": 2, "makefil": 2, "place": 2, "clean": [0, 2], "clean_build": 2, "lot": 2, "stuff": 2, "Not": 2, "necessari": 2, "sometim": 2, "index": [2, 3], "tab": 2, "monitor": 2, "ref": 2, "_build": 2, "inform": 2, "succe": 2, "take": [0, 2], "overview": 3, "tl": 3, "dr": 3, "quickstart": 3, "architectur": 3, "build": 3, "base": 3, "imag": 3, "happen": 3, "doc": 3, "sphinx": 3, "githubpag": 3, "review": 3, "commit": 3, "progress": 3, "search": 3, "invari": 0, "item": 0, "havv": 0, "even": 0, "though": 0, "determin": 0, "patterin": [], "global": 0, "variant": 0, "_dev_th": 0, "howdi": 0, "_prod_th": 0, "folk": 0, "replac": 0, "my_th": 0, "locat": 0, "my_db": 0, "path": 0, "dockef": 0, "To": 0, "auto": 0, "sure": 0, "effect": 0, "dev": 3, "product": 3, "launch": 0, "move": 0, "mode": 0, "id": 0, "parallel": 0, "pyenv": 0, "brc": 0, "inclu": 0, "__main__": 0, "your_dag": 0, "filewatcherdebagsync": 0, "debugg": 0, "watch": 0, "imperfect": 0, "doesn": 0, "might": 0, "sever": 0, "instanc": 0, "same": 0, "happili": 0, "easi": 0, "provid": 0, "shorthand": 0, "old": 0, "record": 0, "stop": 0, "webserv": 0, "ll": 0, "larg": 0, "self": 0, "bare": 0, "minimum": 0, "clear": 0, "clutter": 0, "email": 0, "address": 0, "w": 0, "u": 0, "eager": 0, "beaver": 0, "improv": 0, "welcom": 0, "coalesc": 0, "look": 0, "my": 0}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"bdrc": [0, 3], "airflow": [0, 1, 3], "develop": 0, "architectur": [0, 1], "thi": [0, 2], "modul": 0, "build": [0, 1, 2], "imag": [0, 1], "contain": 0, "what": 0, "i": 0, "actual": 0, "happen": 0, "retri": 0, "when": 0, "data": [0, 1], "us": [0, 1], "bash": 0, "shell": 0, "docker": [0, 1], "overview": 1, "definit": 1, "tl": 1, "dr": 1, "quickstart": 1, "project": 1, "base": 1, "principl": 1, "oper": 1, "an": 1, "detail": 1, "deploi": [0, 1], "runtim": 1, "how": 1, "run": 1, "concept": 1, "volum": 1, "secret": 1, "persist": 1, "make": 2, "doc": 2, "get": 2, "sphinx": 2, "configur": [0, 2], "ao": 2, "workflow": 2, "repo": 2, "githubpag": 2, "other": 2, "target": 2, "review": 2, "commit": 2, "github": 2, "progress": 2, "welcom": 3, "": 3, "document": 3, "content": 3, "indic": 3, "tabl": 3, "dev": 0, "test": 0, "product": 0, "environ": 0, "you": 0, "can": 0, "skip": 0, "pattern": 0, "thing": 0, "chang": 0, "sh": 0, "dag": 0, "glacier_staging_to_sync": 0, "py": 0, "befor": 0, "debug": 0, "initi": 0, "local": 0, "servic": 0}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Making this doc": [[2, "making-this-doc"]], "Get Sphinx": [[2, "get-sphinx"]], "Configure AO Workflows repo for GitHubPages": [[2, "configure-ao-workflows-repo-for-githubpages"]], "Build": [[2, "build"]], "Other targets": [[2, "other-targets"]], "Review": [[2, "review"]], "Commit": [[2, "commit"]], "Review Github progress": [[2, "review-github-progress"]], "Welcome to BDRC Airflow\u2019s documentation!": [[3, "welcome-to-bdrc-airflow-s-documentation"]], "Contents:": [[3, null]], "Indices and tables": [[3, "indices-and-tables"]], "Airflow docker": [[1, "airflow-docker"]], "Overview": [[1, "overview"]], "Definitions": [[1, "definitions"]], "TL,DR: Quickstart": [[1, "tl-dr-quickstart"]], "airflow-docker project architecture": [[1, "airflow-docker-project-architecture"]], "Building the base airflow image": [[1, "building-the-base-airflow-image"]], "Principles": [[1, "principles"]], "Operations": [[1, "operations"]], "Building an image": [[1, "building-an-image"]], "Details": [[1, "details"]], "Deploying the Runtime: deploy": [[1, "deploying-the-runtime-deploy"]], "How to use deploy": [[1, "how-to-use-deploy"]], "Running": [[1, "running"]], "Docker concepts": [[1, "docker-concepts"]], "Volumes": [[1, "volumes"]], "Secrets": [[1, "secrets"]], "Persistent data": [[1, "persistent-data"]], "BDRC Airflow Development": [[0, "bdrc-airflow-development"]], "Architecture of this module": [[0, "architecture-of-this-module"]], "Development and Test Before Docker": [[0, "development-and-test-before-docker"]], "Debugging and initial test": [[0, "debugging-and-initial-test"]], "Local airflow services test": [[0, "local-airflow-services-test"]], "Building the image": [[0, "building-the-image"]], "Building the container": [[0, "building-the-container"]], "Configuring Dev/Test and Production Environments": [[0, "configuring-dev-test-and-production-environments"]], "What you can skip": [[0, "what-you-can-skip"]], "Patterns": [[0, "patterns"]], "Things to change": [[0, "things-to-change"]], "deploy.sh": [[0, "deploy-sh"]], "dags/glacier_staging_to_sync.py": [[0, "dags-glacier-staging-to-sync-py"]], "What is actually happening": [[0, "what-is-actually-happening"]], "Retrying when there is no data": [[0, "retrying-when-there-is-no-data"]], "Using a bash shell": [[0, "using-a-bash-shell"]]}, "indexentries": {}})